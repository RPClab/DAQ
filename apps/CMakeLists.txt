include(CLI11_project)

if(BUILD_WEBSOCKETSERVER)
  add_executable(WebSocketServer WebsocketServer.cpp)
  add_dependencies(WebSocketServer WebsocketServer CLI11::CLI11)
  target_link_libraries(WebSocketServer PRIVATE WebsocketServer PRIVATE CLI11::CLI11)
  install(TARGETS WebSocketServer RUNTIME DESTINATION ${CMAKE_INSTALL_PREFIX})
endif()

if(BUILD_CONTROLLER)
  add_executable(Controller Controller.cpp)
  add_dependencies(Controller Controller_ CLI11::CLI11)
  target_link_libraries(Controller PRIVATE Controller_ PRIVATE CLI11::CLI11)
  install(TARGETS Controller RUNTIME DESTINATION ${CMAKE_INSTALL_PREFIX})
endif()

if(BUILD_LOGGER)
  add_executable(Logger Logger.cpp)
  add_dependencies(Logger Logger_ CLI11::CLI11)
  target_link_libraries(Logger PRIVATE Logger_ PRIVATE CLI11::CLI11)
  install(TARGETS Logger RUNTIME DESTINATION ${CMAKE_INSTALL_PREFIX})
endif()

if(BUILD_CONFIGURATOR)
  # add_executable(Configurator Configurator.cpp) add_dependencies(Configurator Configurator_) target_link_libraries(Configurator PUBLIC Configurator_) install(TARGETS Configurator RUNTIME DESTINATION ${CMAKE_INSTALL_PREFIX})
endif()

if(BUILD_DAQ)
  add_subdirectory(DAQ)
endif()
